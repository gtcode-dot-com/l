{{ define "main" }}
<div class="guide-layout">
    <button class="guide-sidebar-toggle" id="guide-sidebar-toggle" aria-label="Toggle Guide Menu">
        <i data-feather="menu"></i>
    </button>
    <div class="guide-sidebar-overlay" id="guide-sidebar-overlay"></div>
    {{ partial "sidebar.html" . }}
    <div class="guide-content">
        <article class="content-article">
            <header class="article-header">
                {{ if ne .Parent.RelPermalink "/guides/" }}<a href="{{ .Parent.RelPermalink }}" class="parent-guide-link">‚Üê Back to {{ .Parent.Title }}</a>{{ end }}
                <h1 class="article-title">{{ .Title }}</h1>
                {{ if .Description }}
                <p class="article-description">{{ .Description }}</p>
                {{ end }}
            </header>

            {{ $bc := newScratch }}
            {{ $bc.Set "items" (slice
                (dict "@type" "ListItem" "position" 1 "name" "Home" "item" ("/" | absURL))
                (dict "@type" "ListItem" "position" 2 "name" "Guides" "item" ("/guides/" | absURL))
            ) }}
            {{ $bc.Add "items" (dict "@type" "ListItem" "position" 3 "name" .Title "item" .Permalink) }}
            {{ $breadcrumbItems := $bc.Get "items" }}
            <script type="application/ld+json">
            {{- jsonify (dict "@context" "https://schema.org" "@type" "BreadcrumbList" "itemListElement" $breadcrumbItems) -}}
            </script>

            {{ partial "page-nav.html" . }}

            <div class="article-content">
                {{ .Content }}
            </div>

            {{ partial "page-nav.html" . }}
        </article>
    </div>
</div>
{{ end }}
