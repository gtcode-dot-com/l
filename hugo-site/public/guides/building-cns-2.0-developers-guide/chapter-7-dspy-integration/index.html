<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chapter 7: Advanced Optimization with DSPy | Building CNS 2.0: A Developer&#39;s Guide</title>
    <meta name="description" content="Evolving CNS 2.0 from prompt engineering to programmatic optimization using DSPy">
    <meta name="author" content="CNS Development Team">
    
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üß†</text></svg>">
    
    
    <link rel="stylesheet" href="/css/style.css?v=1753861752">
    
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    




    
    
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div class="site-wrapper">
        
        <header class="site-header">
            <div class="container">
                <nav class="main-nav">
                    <div class="nav-brand">
                        <a href="/guides/building-cns-2.0-developers-guide/" class="brand-link">
                            <span class="brand-icon">üß†</span>
                            <span class="brand-text">Building CNS 2.0: A Developer&#39;s Guide</span>
                        </a>
                    </div>
                    
                    <div class="nav-menu">
                        <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
                            <i data-feather="menu"></i>
                        </button>
                        
                        <ul class="nav-list">
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-1-introduction/" class="nav-link ">
                                        Introduction
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-2-sno-foundations/" class="nav-link ">
                                        SNO Foundations
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-3-critic-pipeline/" class="nav-link ">
                                        Critic Pipeline
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-4-synthesis-engine/" class="nav-link ">
                                        Synthesis Engine
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-5-system-integration/" class="nav-link ">
                                        System Integration
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-6-complete-implementation/" class="nav-link ">
                                        Complete Implementation
                                    </a>
                                </li>
                            
                                <li class="nav-item">
                                    <a href="/guides/building-cns-2.0-developers-guide/chapter-7-dspy-integration/" class="nav-link ">
                                        DSPy Integration
                                    </a>
                                </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </header>

        
        <main class="site-main">
            <div class="container">
                
<article class="content-article">
    
    <header class="article-header">
        <div class="article-meta">
            <span class="article-weight">Chapter 7 of 7</span>
            <span class="article-separator">‚Ä¢</span>
            <time class="article-date">July 29, 2025</time>
        </div>
        
        <h1 class="article-title">Chapter 7: Advanced Optimization with DSPy</h1>
        
        
        <p class="article-description">Evolving CNS 2.0 from prompt engineering to programmatic optimization using DSPy</p>
        
        
        
        <div class="progress-indicator">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 116.69000000000001%"></div>
            </div>
        </div>
    </header>

    
    <aside class="article-toc">
        <h3>Table of Contents</h3>
        <nav id="TableOfContents">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#from-prompting-to-programming">From Prompting to Programming</a></li>
    <li><a href="#solving-a-major-research-challenge-narrative-ingestion">Solving a &ldquo;Major Research Challenge&rdquo;: Narrative Ingestion</a>
      <ul>
        <li><a href="#defining-the-ingestion-task-with-dspy">Defining the Ingestion Task with DSPy</a></li>
      </ul>
    </li>
    <li><a href="#the-ultimate-goal-a-self-optimizing-synthesis-engine">The Ultimate Goal: A Self-Optimizing Synthesis Engine</a>
      <ul>
        <li><a href="#how-the-self-optimizing-loop-works">How the Self-Optimizing Loop Works</a></li>
        <li><a href="#the-criticpipeline-as-a-metric">The <code>CriticPipeline</code> as a Metric</a></li>
        <li><a href="#compiling-the-self-optimizing-synthesizer">Compiling the Self-Optimizing Synthesizer</a></li>
      </ul>
    </li>
    <li><a href="#conclusion-from-blueprint-to-a-dynamic-system">Conclusion: From Blueprint to a Dynamic System</a></li>
  </ul>
</nav>
        </nav>
    </aside>

    
    <div class="article-content">
        <div class="guide-header">
    <a href="/" class="home-link">‚Üê Back to GTCode.com Homepage</a>
</div>
<h1 id="chapter-7-advanced-optimization-with-dspy">Chapter 7: Advanced Optimization with DSPy</h1>
<h2 id="from-prompting-to-programming">From Prompting to Programming</h2>
<p>Throughout this guide, we&rsquo;ve often assumed a developer would write fixed, static prompts to instruct the LLMs in our system. This &ldquo;prompt engineering&rdquo; has critical weaknesses: a prompt that works on one model may fail on another, and optimizing it is a manual, trial-and-error process.</p>
<p>To build a truly robust and adaptive system, we must move from <em>prompting</em> to <em>programming</em>. This is where <strong>DSPy</strong> comes in. DSPy is a framework that turns brittle prompt engineering into a systematic, programmatic optimization process. Instead of hand-crafting prompts, we define the task we want to perform and a metric for success, and the DSPy &ldquo;compiler&rdquo; does the hard work of generating the optimal prompts for our specific model and use case.</p>
<h2 id="solving-a-major-research-challenge-narrative-ingestion">Solving a &ldquo;Major Research Challenge&rdquo;: Narrative Ingestion</h2>
<p>The CNS 2.0 paper is candid about the difficulty of the first step in the workflow: converting unstructured text into a well-formed SNO. In Section 3.1, it states:</p>
<blockquote>
<p>&ldquo;A critical prerequisite for the CNS ecosystem is the ability to generate SNOs from unstructured source materials&hellip; This process, a form of advanced argumentation mining, is a <strong>major research challenge</strong> in itself.&rdquo;</p></blockquote>
<p>Manually engineering a prompt to reliably extract a hypothesis, claims, and their relationships is exactly the kind of brittle task where DSPy excels. We can programmatically find the best possible prompt for this complex extraction task.</p>
<h3 id="defining-the-ingestion-task-with-dspy">Defining the Ingestion Task with DSPy</h3>
<p>First, we define the input (<code>document_text</code>) and the desired structured output (<code>central_hypothesis</code>, <code>claims</code>) using a DSPy <strong>Signature</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Assume dspy is installed and configured, and Pydantic models are defined</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> dspy
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pydantic <span style="color:#f92672">import</span> BaseModel, Field
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ExtractedClaim</span>(BaseModel):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Pydantic model for a single extracted claim.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    claim_text: str <span style="color:#f92672">=</span> Field(description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;The text of the claim.&#34;</span>)
</span></span><span style="display:flex;"><span>    relationship_to_hypothesis: str <span style="color:#f92672">=</span> Field(description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;How this claim relates to the central hypothesis (e.g., &#39;supports&#39;, &#39;refutes&#39;).&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DocumentToSNO</span>(dspy<span style="color:#f92672">.</span>Signature):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Extracts the central hypothesis and a structured list of claims from a document.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    document_text: str <span style="color:#f92672">=</span> dspy<span style="color:#f92672">.</span>InputField(desc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;The full text of the source document.&#34;</span>)
</span></span><span style="display:flex;"><span>    central_hypothesis: str <span style="color:#f92672">=</span> dspy<span style="color:#f92672">.</span>OutputField(desc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;A single, concise sentence summarizing the main argument.&#34;</span>)
</span></span><span style="display:flex;"><span>    claims: List[ExtractedClaim] <span style="color:#f92672">=</span> dspy<span style="color:#f92672">.</span>OutputField(desc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;A structured list of key claims and their relationship to the hypothesis.&#34;</span>)
</span></span></code></pre></div><p>Next, we define a metric function that scores how well an LLM&rsquo;s prediction matches a hand-labeled example. By providing partial credit (a <strong>graded metric</strong>), we give the optimizer a much richer signal to learn from.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">graded_sno_structure_metric</span>(example, pred, trace<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>) <span style="color:#f92672">-&gt;</span> float:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    A graded metric that gives partial credit for correctly extracting parts of the SNO.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    This provides a much better learning signal to the DSPy optimizer than a simple 0/1 score.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    score <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Award marks for correctly identifying the hypothesis</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> example<span style="color:#f92672">.</span>central_hypothesis<span style="color:#f92672">.</span>lower() <span style="color:#f92672">in</span> pred<span style="color:#f92672">.</span>central_hypothesis<span style="color:#f92672">.</span>lower():
</span></span><span style="display:flex;"><span>        score <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Award marks for each correctly identified claim</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># (In a real scenario, this would involve more sophisticated semantic matching)</span>
</span></span><span style="display:flex;"><span>    pred_claims_text <span style="color:#f92672">=</span> {c<span style="color:#f92672">.</span>claim_text <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> pred<span style="color:#f92672">.</span>claims}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> gold_claim <span style="color:#f92672">in</span> example<span style="color:#f92672">.</span>claims:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> gold_claim<span style="color:#f92672">.</span>claim_text <span style="color:#f92672">in</span> pred_claims_text:
</span></span><span style="display:flex;"><span>            score <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.5</span> <span style="color:#f92672">/</span> len(example<span style="color:#f92672">.</span>claims)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> score
</span></span></code></pre></div><p>With a few labeled examples of documents and their ideal SNO structures, we can use a DSPy optimizer (like <code>BootstrapFewShot</code>) to &ldquo;compile&rdquo; a module that contains the best possible prompt for the ingestion task. This turns a &ldquo;major research challenge&rdquo; into a solvable optimization problem.</p>
<h2 id="the-ultimate-goal-a-self-optimizing-synthesis-engine">The Ultimate Goal: A Self-Optimizing Synthesis Engine</h2>
<p>The true power of combining CNS 2.0 and DSPy is realized when we turn the system&rsquo;s critical judgment upon itself. We can use our own <strong>Critic Pipeline</strong> as the metric to optimize the <strong>Synthesis Engine</strong>. This creates a powerful feedback loop where the system learns to generate syntheses that it itself considers to be high-quality.</p>
<p>The diagram below illustrates this self-optimizing loop. The goal is to &ldquo;compile&rdquo; a <code>SynthesisModule</code> that is optimized to produce SNOs that score highly on our <code>CriticPipeline</code> metric.</p>
<div style="text-align: center;">
  <img src="/img/diagram-02.svg" alt="A diagram showing the self-optimizing loop where the DSPy Optimizer compiles a Synthesis Module, which generates a candidate SNO that is then scored by our own CNS Critic Pipeline, with the score being fed back to the optimizer." style="display: inline-block;" />
</div>
<h3 id="how-the-self-optimizing-loop-works">How the Self-Optimizing Loop Works</h3>
<p>This process allows the system to programmatically discover what makes a &ldquo;good&rdquo; synthesis from its own perspective. Here is a step-by-step breakdown:</p>
<ol>
<li><strong>Define the Task</strong>: We define a <code>ChiralPairToSynthesis</code> signature that tells the LLM its goal: take two conflicting narratives and output a new, higher-order hypothesis.</li>
<li><strong>Prompt Generation</strong>: The DSPy Optimizer (<code>BootstrapFewShot</code>) creates a candidate prompt and few-shot examples for the <code>SynthesisModule</code>.</li>
<li><strong>Candidate Generation</strong>: The <code>SynthesisModule</code> uses this prompt to call an LLM, which generates a <code>synthesized_hypothesis</code> (a string).</li>
<li><strong>Instantiation</strong>: Our custom metric function, <code>critic_pipeline_metric</code>, takes this raw string and instantiates a full <code>StructuredNarrativeObject</code> from it. This is where the abstract output of the LLM becomes a concrete, evaluable part of our CNS ecosystem.</li>
<li><strong>Self-Evaluation</strong>: The candidate SNO is passed through our complete, multi-component <code>CriticPipeline</code> from Chapter 3. The pipeline calculates a final, holistic <code>trust_score</code>.</li>
<li><strong>Feedback</strong>: This <code>trust_score</code> is returned to the DSPy Optimizer. The optimizer uses this score to judge how &ldquo;good&rdquo; its generated prompt was.</li>
<li><strong>Iteration</strong>: The optimizer repeats this process, learning to generate prompts that produce SNOs that our own system rates highly.</li>
</ol>
<h3 id="the-criticpipeline-as-a-metric">The <code>CriticPipeline</code> as a Metric</h3>
<p>The bridge between DSPy&rsquo;s optimization and our system&rsquo;s judgment is the <code>critic_pipeline_metric</code> function. It wraps our entire evaluation workflow into a single function that DSPy can use to score its attempts.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">critic_pipeline_metric</span>(cns_workflow_manager, example, pred, trace<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>) <span style="color:#f92672">-&gt;</span> float:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Uses the entire CNS critic pipeline to evaluate the quality of a synthesized hypothesis.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    This function is the bridge between DSPy&#39;s optimization and our system&#39;s own judgment.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 1: Extract the predicted hypothesis from the DSPy prediction object.</span>
</span></span><span style="display:flex;"><span>        synthesized_hypothesis <span style="color:#f92672">=</span> pred<span style="color:#f92672">.</span>synthesized_hypothesis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 2: Perform basic validation. An invalid or trivial output gets the worst score.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> isinstance(synthesized_hypothesis, str) <span style="color:#f92672">or</span> len(synthesized_hypothesis) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">20</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 3: Instantiate a candidate SNO from the LLM&#39;s generated hypothesis.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># This turns the raw text output into a rich, structured object.</span>
</span></span><span style="display:flex;"><span>        candidate_sno <span style="color:#f92672">=</span> StructuredNarrativeObject(central_hypothesis<span style="color:#f92672">=</span>synthesized_hypothesis)
</span></span><span style="display:flex;"><span>        candidate_sno<span style="color:#f92672">.</span>compute_hypothesis_embedding(cns_workflow_manager<span style="color:#f92672">.</span>embedding_model)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 4: Prepare the context for evaluation. The Novelty Critic needs to see</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># the existing SNO population to do its job.</span>
</span></span><span style="display:flex;"><span>        context <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;sno_population&#39;</span>: cns_workflow_manager<span style="color:#f92672">.</span>sno_population}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 5: THE CORE OF THE LOOP. Run the candidate SNO through our complete,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># multi-component critic pipeline from Chapter 3.</span>
</span></span><span style="display:flex;"><span>        evaluation_result <span style="color:#f92672">=</span> cns_workflow_manager<span style="color:#f92672">.</span>critic_pipeline<span style="color:#f92672">.</span>evaluate_sno(candidate_sno, context)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Step 6: The final, holistic trust_score produced by our pipeline is the metric.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># DSPy&#39;s optimizer will now tune the synthesizer&#39;s prompts to maximize this score.</span>
</span></span><span style="display:flex;"><span>        trust_score <span style="color:#f92672">=</span> evaluation_result<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;trust_score&#39;</span>, <span style="color:#ae81ff">0.0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> trust_score
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Penalize any prompt that produces an output that breaks our system.</span>
</span></span><span style="display:flex;"><span>        logger<span style="color:#f92672">.</span>error(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Critic pipeline metric failed: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.0</span>
</span></span></code></pre></div><h3 id="compiling-the-self-optimizing-synthesizer">Compiling the Self-Optimizing Synthesizer</h3>
<p>With the signature, module, and metric defined, we can now &ldquo;compile&rdquo; our <code>SynthesisModule</code>. The optimizer will learn to generate hypotheses that are well-grounded, logical, and novel <em>according to the system&rsquo;s own internal criteria</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ... (Code for defining the SynthesisModule and training examples remains the same) ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This is the compilation step. DSPy runs a series of experiments. Over many</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># iterations, it finds the prompt that maximizes the trust score, effectively</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># teaching the synthesizer what our own critic pipeline values.</span>
</span></span><span style="display:flex;"><span>optimized_synthesis_module <span style="color:#f92672">=</span> optimizer<span style="color:#f92672">.</span>compile(SynthesisModule(), trainset<span style="color:#f92672">=</span>synthesis_train_examples)
</span></span></code></pre></div><h2 id="conclusion-from-blueprint-to-a-dynamic-system">Conclusion: From Blueprint to a Dynamic System</h2>
<p>This guide has walked through the entire process of translating the CNS 2.0 research paper from a theoretical blueprint into a practical, working system. We have built each component step-by-step, shown how to assemble them into an autonomous system, and laid out the path to a robust, scalable production deployment.</p>
<p>Finally, by integrating DSPy, we have shown a path from a static system to a dynamic one‚Äîa system that can programmatically optimize and improve its own reasoning capabilities. This closing of the loop, where the system&rsquo;s own judgment is used to refine its generative components, represents a key step toward the goal of automated, robust, and continuously improving knowledge discovery.</p>

    </div>

    
    <nav class="article-nav">
        <div class="nav-previous">
            
        </div>
        
        <div class="nav-next">
            
                <a href="/guides/building-cns-2.0-developers-guide/chapter-6-complete-implementation/" class="nav-link next-link">
                    <div class="nav-text">
                        <span class="nav-label">Previous</span>
                        <span class="nav-title">Chapter 6: Complete Implementation - Production Deployment and Scaling</span>
                    </div>
                    <i data-feather="arrow-left"></i>
                </a>
            
        </div>
    </nav>

    
    <aside class="chapter-summary">
        <h3>Chapter Summary</h3>
        <div class="summary-content">
            
                <p>Evolving the CNS 2.0 system from prompt engineering to programmatic optimization using DSPy.</p>
                <ul>
                    <li>Refactoring ingestion with DSPy Signatures</li>
                    <li>Building optimizable DSPy Modules</li>
                    <li>Metric-driven development and compilation</li>
                </ul>
            
        </div>
    </aside>
</article>

            </div>
        </main>

        
        <footer class="site-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-text">
                        <p>&copy; 2025 <a href="https://GTCode.com/" class="footer-link">GTCode.com</a>. Educational content for CNS 2.0 implementation.</p>
                        <p>Based on <a target="_blank" 
                               rel="noopener noreferrer" href="/papers/ResearchProposal-ChiralNarrativeSynthesis_20250617_3.pdf" class="footer-link">CNS 2.0: A Practical Blueprint for Chiral Narrative Synthesis</a> research paper. (20250617 Version 3)</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    
    <script src="/js/navigation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}]});"></script>
    
    <script>
        
        if (window.feather) feather.replace();
    </script>
</body>
</html>
